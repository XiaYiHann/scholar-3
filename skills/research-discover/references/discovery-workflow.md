# Discovery Workflow 详细指南

本文档提供 `research-discover` 技能的详细工作流程说明。

## 工作流概述

```
┌─────────────────────────────────────────────────────────────────┐
│                    Discovery Phase Workflow                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│   │  对话探索   │───▶│  文献检索   │───▶│  公式推导   │       │
│   └─────────────┘    └─────────────┘    └─────────────┘       │
│          │                                    │                │
│          ▼                                    ▼                │
│   ┌─────────────┐                    ┌─────────────┐          │
│   │  小型验证   │◀───────────────────│  理论分析   │          │
│   └─────────────┘                    └─────────────┘          │
│          │                                                       │
│          ▼                                                       │
│   ┌─────────────┐                                               │
│   │  生成提案   │                                                │
│   └─────────────┘                                               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 阶段 1: 对话探索

### 目标
从模糊的想法发展成清晰的研究问题。

### 活动
1. **提出澄清性问题**
   - What: 具体要解决什么问题？
   - Why: 为什么这个问题重要？
   - How: 初步的解决思路是什么？

2. **挑战假设**
   - 这个假设是否合理？
   - 有没有反例？
   - 边界条件是什么？

3. **重新框架问题**
   - 从另一个角度看问题
   - 寻找类比和相近问题
   - 分解子问题

### 输出
- 清晰的问题陈述
- 初步的研究假设
- 可能的解决方向

## 阶段 2: 文献检索

### 目标
了解研究现状，识别研究空白。

### 使用 literature-reviewer agent
```
[literature-reviewer agent]
搜索关键词: [你的研究关键词]
数据库: arXiv, Google Scholar, Semantic Scholar
```

### 分析维度
1. **核心论文** - 该领域必读的 X 篇论文
2. **主要方法** - 现有解决方案分类
3. **研究空白** - 现有方法的不足
4. **参考文献** - 构建引用列表

### 输出
- 文献地图（方法分类）
- Gap 分析表
- 核心参考文献列表

## 阶段 3: 数学推导

### 目标
建立坚实的理论基础。

### 推导步骤
1. **符号定义**
   - 输入/输出/参数
   - 函数/集合/空间

2. **问题形式化**
   - 目标函数
   - 约束条件
   - 假设条件

3. **关键公式**
   - 逐步推导
   - 中间结果
   - 最终形式

4. **理论保证**
   - 定理陈述
   - 证明思路
   - 复杂度分析

### 输出
- 完整的公式推导
- 符号定义表
- 理论保证说明

## 阶段 4: 小型验证

### 目标
在投入大规模实验前进行快速验证。

### 验证类型
1. **概念验证 (Proof of Concept)**
   - 最小可行实现
   - 2-3 个关键场景

2. **理论验证**
   - 数值模拟
   - 特殊案例分析

3. **预期结果**
   - 假设成立时的预期
   - 假设不成立的可能原因

### 输出
- 验证实验设计
- 预期结果分析
- 验证方法说明

## 阶段 5: 生成提案

### 使用模板
使用 `templates/idea-proposal.md` 生成结构化提案。

### 提案内容
1. Problem Statement
2. Problem Normal Form（task/dataset/metric/baseline/证伪条件）
3. Literature Review
4. Mathematical Foundation
5. Validation Plan
6. Next Steps

### 输出位置
`research/idea-proposal.md`

## 向下一阶段过渡

### 证据账本（Evidence Ledger）

在进入实验阶段前，创建/初始化 `research/evidence-ledger.md`（使用 `templates/evidence-ledger.md`）：
- 把可能写进论文的 Claim 列出来
- 为每条 Claim 指定“需要什么证据”（表/图/日志/定理）
- 标注当前状态：`planned/partial/verified/falsified`

### Exit Criteria（Discover → Experiment，顶会偏严默认）

当满足以下条件时，才可以进入实验阶段：
- [ ] 1 个主假设 + 1 个明确证伪条件（出现什么现象就判定假设失败）
- [ ] 明确 task/dataset/metric（或理论命题的定义域/结论形式）
- [ ] ≥6 篇核心文献（其中 ≥2 篇强 baseline），每篇包含：
  - 标题、作者、年份、venue/arXiv号、可核验链接
  - 1-2 句关键结论与“为什么相关”
- [ ] 最小验证方案：输入、输出、对照组、预期现象、失败解释路径

使用 `/experiment` 命令进入实验验证模式。
